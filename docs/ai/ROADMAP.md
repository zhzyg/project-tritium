# Project Tritium Roadmap

## 0) 当前状态（简述）
- 项目一句话定义：Project Tritium 是“仿氚云企业级低代码平台”。
- 线上现状：JeecgBoot 已部署并可通过 https://oa.donaldzhu.com/jeecg-boot/ 访问。
- 关键约束：所有改动必须先跑 ./ops/ai_guard.sh（由 pre-commit hook 强制）。

## 1) Overview
- 目标：以可运营、可扩展的低代码平台为导向，先夯实运行基线与治理流程，再逐步扩展核心能力与业务适配。
- 时间表达：以迭代周期（Iteration 0/1/2…）描述阶段交付，不依赖具体日期。

## 2) Scope
### In Scope
- 低代码平台的基础能力（表单、列表、权限、租户、多组织配置等）。
- 运行与交付基线（环境初始化、构建/部署流程、基础运维与回归机制）。
- 治理与决策文档（ROADMAP/ADR/CHANGELOG）。

### Out of Scope
- 深度定制的行业化解决方案与复杂业务流程（在 Phase 3 之后再评估）。
- 高并发/高可用的超大规模优化（Phase 4 前不作为主要目标）。
- 非核心的第三方生态插件大规模引入（需 ADR 评估后推进）。

## 3) Guiding Principles
- 变更最小化：每次只做一件事，输出可验证的结果。
- 以验证为准：以 Gate（ai_guard/verify）与回归结果作为完成标准。
- 先稳定、后扩展：先保证可用性与治理，再扩展功能与规模。

## 4) Milestones (Phase 1–4)

### Phase 1 (Iteration 0–1) — 基线稳定与环境就绪
**Goals**
- 确认线上 JeecgBoot 现状与访问路径稳定。
- 建立本地/测试环境可重复搭建的基线流程。
- 明确基础权限与租户策略的决策方向。

**Deliverables**
- 前端/后端初始化步骤文档（含依赖、构建与启动方式）。
- MySQL/Redis 初始化流程与最小化数据准备说明。
- 基础权限/租户策略的初始决策点（草案或 ADR 草稿）。

**Acceptance Criteria**
- 环境初始化按文档可复现（本地或测试环境可启动）。
- MySQL/Redis 连接可用且基础配置明确。
- 基础权限/租户策略的方向有明确结论或待决清单。

**Risks**
- 现有部署与本地环境差异导致配置漂移。
- 权限/租户策略早期选型不清晰，导致后续重构成本高。

**Dependencies**
- 现有部署稳定（域名与基础路径可访问）。
- 数据库与缓存容器的可用性与配置一致性。

### Phase 2 (Iteration 2–3) — 核心功能与基础业务能力
**Goals**
- 打通核心数据模型与最小业务闭环。
- 形成稳定的 CRUD/列表/权限协作模式。

**Deliverables**
- 核心模块的基础功能（列表、表单、权限控制、审计字段）。
- 可复用的模板与页面配置规范。

**Acceptance Criteria**
- 关键模块具备完整新增/编辑/删除/列表能力。
- 权限策略在至少一个模块中验证有效。

**Risks**
- 数据模型迭代频繁导致前后端耦合上升。
- UI/路由/资源路径变更引发白屏或资源 404。

**Dependencies**
- Phase 1 的环境与权限策略决策落实。
- 基础数据表与示例数据可用。

### Phase 3 (Iteration 4–6) — 多租户/扩展能力与集成
**Goals**
- 逐步完善多租户与组织架构能力。
- 引入必要的系统集成（鉴权、日志、审计）。

**Deliverables**
- 多租户策略与权限模型落地方案。
- 审计/日志/监控基本能力集成。

**Acceptance Criteria**
- 多租户隔离策略与权限边界可验证。
- 关键操作可在审计日志中追踪。

**Risks**
- 多租户与权限复杂度上升，导致维护成本高。
- 集成点不稳定造成系统耦合与性能波动。

**Dependencies**
- Phase 2 的核心模块稳定。
- 日志/审计组件选型完成并落地。

### Phase 4 (Iteration 7+) — 稳定性与规模化交付
**Goals**
- 提升稳定性、性能与交付效率。
- 建立可扩展的发布与回滚体系。

**Deliverables**
- 性能/稳定性基准与优化清单。
- 发布、回滚、灾备流程与演练记录。

**Acceptance Criteria**
- 关键路径性能与稳定性指标可衡量。
- 回滚流程可在限定时间内完成。

**Risks**
- 性能瓶颈不明确导致优化投入失焦。
- 发布与回滚流程复杂度增加风险。

**Dependencies**
- 监控与指标体系完善。
- 关键链路压测与数据收集机制建立。

## 5) Architecture Decision Records (ADR)
- 位置：`docs/ai/adr/ADR-XXXX.md`。
- 编号规则：四位递增（ADR-0001 起）。
- 触发时机：影响架构、路径、权限、租户、数据模型、部署/运维策略的改动必须先写 ADR。

## 6) Delivery Process (Step-by-Step)
- 执行纪律：一步一指令；每步仅做一件事并输出可验证结果。
- 变更前后必须通过 `./ops/ai_guard.sh`，失败则停止并回滚或修复。
- 关键路径回归（列表/新增）与资源路径检查为必做项。

## 7) Governance & Update Cadence
- 更新节奏：每个迭代结束时更新一次 ROADMAP；重大决策变更即时更新。
- 角色责任：
  - 你（PM/执行者）：推进计划、拆解任务、确保验收结果可复现。
  - 我（CTO/架构）：架构方向与 ADR 审核，关键技术决策把关。
  - Coding Agent：实现变更并保证 Gate 通过。
  - Review Agent：审查风险、验证回归与质量。

## 8) 风险清单（全局）
- 资源路径/前端构建变更引发白屏或 404。
- 权限/租户策略变更带来数据隔离与安全风险。
- 环境与配置不一致导致线上与本地行为偏差。
